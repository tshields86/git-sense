# CLAUDE.md

## Project Overview

git-sense is a CLI tool that uses AI to make sense of git history. It connects to GitHub repos, fetches commit and PR data, and uses Claude to generate human-readable summaries, answer questions, and provide insights.

## Working Guidelines

### Commits
- Commit frequently after each meaningful change
- Use clear, conventional commit messages (feat:, fix:, docs:, refactor:, etc.)
- Do NOT include "Generated by Claude" or any AI signature in commits
- Each task in TASKS.md should result in at least one commit

### Code Style
- TypeScript with strict mode enabled
- ES modules (type: "module" in package.json)
- Prefer async/await over callbacks
- Keep functions small and focused
- Use descriptive variable names

### Testing Approach
- Test manually with real repos during development
- Use `facebook/react` or another large public repo for testing
- Test error cases (no git repo, no auth, bad input)

### File Organization
- Keep files focused and small
- Commands go in `src/commands/`
- Shared utilities go in `src/lib/`
- Types go in `src/types/`
- AI prompts should be constants at the top of files or in a dedicated prompts file

## Key Files

- `TASKS.md` - Ordered task list, work through top to bottom
- `TECHNICAL_SPEC.md` - Detailed technical specification and requirements
- `README.md` - User-facing documentation (create as final task)

## Commands Reference

```bash
npm run dev          # Run in development with tsx
npm run build        # Build with tsup
npm run start        # Run built version
npm link             # Install globally for local testing
```

## CLI Commands (what we're building)

```bash
git-sense auth                        # GitHub OAuth
git-sense config --anthropic-key <k>  # Store Anthropic API key
git-sense config --show               # Show current config
git-sense summary                     # Summarize recent activity
git-sense ask "question"              # Ask about repo history
git-sense contributors                # Contributor analysis  
git-sense changelog --from v1 --to v2 # Generate changelog
```

## Placeholders to Replace

The owner will need to provide:
1. `GITHUB_CLIENT_ID` - From GitHub OAuth App registration
2. `ANTHROPIC_API_KEY` - User's Anthropic API key

Use placeholder strings that are easy to find/replace.
